# Daily Logging Flow Template

**Purpose**: Define the step-by-step UX for logging a training session after class.

**Goal**: Make it so fast and intuitive that users log within 60 seconds.

---

## Instructions

Map out the EXACT conversation flow from "Did you train today?" to AI feedback.

**Key Principles**:
- Mobile-first (user is tired, potentially in the parking lot)
- Quick-select buttons whenever possible (minimize typing)
- Progressively reveal complexity (don't overwhelm with all questions at once)

---

## Logging Flow

### Trigger: User Opens App After Training

**Option A**: User proactively opens app  
**Option B** (Phase 1.5): Push notification "Did you train today?" ‚Üí user taps ‚Üí opens to chat

---

### Step 1: Initiate Logging

**Musashi**: 
```
[Write the exact opening question]
Example: "Hey! Did you train today?"
```

**Options**: 
```
[List exact button labels]
Example:
[Yes, I rolled ü•ã] [Yes, just drilling] [No, rest day]

If "No, rest day":
  Musashi: "Smart! Recovery is part of training. See you next session."
  [END FLOW]
```

---

### Step 2: Session Type & Duration

**Musashi** (if user said yes to training): 
```
[Write the exact question]
Example: "Nice! How long did you train?"
```

**Options**: 
```
[List quick-select durations]
Example:
[30 min] [60 min] [90 min] [2+ hours] [Custom: text input]
```

**Optional Follow-Up**: 
```
"What type of session was it?"
[Rolling/Sparring] [Technique Drilling] [Open Mat] [Competition] [Private Lesson]
```

**Your Decision**: Do we ask session type, or just duration? Both?

---

### Step 3: Energy/Intensity Check

**Musashi**: 
```
[Write the exact question]
Example: "How was your energy today?"
```

**Options**: 
```
[List emoji-based scale]
Example:
[üî• Felt amazing] [üòä Pretty good] [üòê Average] [üòì Tired/gassed out]
```

**Alternative**: Ask intensity (RPE scale 1-10) instead of or in addition to energy?
```
"How hard did you push yourself today?" (Rate 1-10)
[1] [2] [3] ... [10]
OR
[Light] [Moderate] [Hard] [Max effort]
```

**Your Choice**: Energy, Intensity, or both?

---

### Step 4: Technique Logging (Submissions)

**Musashi**: 
```
[Write the exact question]
Example: "Did you hit any submissions or get caught with any?"
```

**Options**: 
```
[Hit a submission ‚úÖ] [Got submitted ‚ùå] [None today] [Skip]
```

#### If "Hit a submission ‚úÖ":

**Musashi**: 
```
"Nice! What did you get?"
```

**UI**: Show grid of common techniques (quick-select)
```
[List 12-15 most common techniques as buttons in a grid]
Example:
[Armbar] [Triangle] [RNC] [Kimura] [Guillotine] [Americana]
[D'Arce] [Anaconda] [Omoplata] [Bow & Arrow] [Ezekiel] [Other...]

If "Other" selected:
  ‚Üí Text input: "What submission?"
  ‚Üí Autocomplete from full technique list
```

**Follow-Up**: 
```
Musashi: "From what position?"
[Closed Guard] [Open Guard] [Half Guard] [Mount] [Side Control] [Back] [Other...]
```

**Follow-Up**: 
```
Musashi: "Want to add another submission, or move on?"
[+ Add another] [That's it, analyze my session]
```

#### If "Got submitted ‚ùå":

**Musashi**: 
```
"No worries, we all get tapped. What caught you?"
```

**UI**: Same technique grid as above

**Follow-Up**: Same position question

---

### Step 5: Position Struggles (Optional But Useful)

**Musashi**: 
```
[Write the exact question]
Example: "Were there any positions that gave you trouble today?"
```

**Options**: 
```
[Let them select multiple from a list]
Example:
[ ] Bottom side control (couldn't escape)
[ ] Bottom mount (couldn't escape)
[ ] Guard (kept getting passed)
[ ] Passing guard (couldn't get through)
[ ] Back defense (kept getting taken)
[ ] None, felt solid everywhere
```

**Your Decision**: 
- Include this in MVP, or Phase 2?
- If included, make it optional (skippable)?

---

### Step 6: Mood/Mental State

**Musashi**: 
```
[Write the exact question]
Example: "How did you feel mentally during training?"
```

**Options**: 
```
[List emotional states with emojis]
Example:
[üò§ Confident/focused] [üòä Happy/flowing] [üòë Frustrated] [üò∞ Anxious/nervous] [üò∂ Just okay]
```

**Your Decision**: 
- Is this too intrusive for MVP? (Could defer to Phase 2)
- If included, make it optional?

---

### Step 7: Optional Notes

**Musashi**: 
```
"Anything else you want to remember about today's session?"
```

**Input Type**: Free text (optional, can skip)

**Placeholder**: "e.g., 'Rolled with a new purple belt, learned a cool sweep'"

---

### Step 8: AI Feedback Generation

**Loading State**: 
```
[Show loading spinner or typing indicator]
"Musashi is thinking..."
```

**Musashi Response** (Generated by AI):
```
[Example response format‚Äîyou'll write the system prompt separately]

Example:
"Great work today! ü•ã I see you're hitting triangles consistently‚Äîthat's becoming 
a real weapon for you. Your guard is solid.

For next session, try focusing on your half guard retention. I noticed you've 
struggled there the last 3 sessions. Here's a great breakdown by Lachlan Giles:
[Video Link]

How's your knee feeling? Make sure to ice and rest if it's still sore."
```

**Components of Response** (for system prompt reference):
1. ‚úÖ Encouragement (specific to what they did)
2. ‚úÖ Pattern recognition (reference past sessions)
3. ‚úÖ Next focus area (specific drill/position)
4. ‚úÖ Video recommendation (1-2 links max)
5. ‚úÖ Holistic check-in (if they mentioned injury/low energy)

---

### Step 9: End of Flow

**Options After Feedback**: 
```
[View Dashboard] [Log Another Session] [Done]
```

OR auto-show updated stats inline in chat?
```
Musashi: "Here's your week so far:"
[Inline chart: Submissions this week]
[Inline stat: "3/4 training days this week‚Äîkeep it up!"]
```

**Your Preference**: Show stats in chat, or just offer button to dashboard?

---

## Flow Variations

### Scenario: User Only Drilled (No Sparring)

If they selected "Just drilling":
```
Musashi: "What techniques did you work on?"
[List of techniques or free text input]

Musashi: "How did it feel? Getting the hang of it?"
[üòä Feeling confident] [üòê Still figuring it out] [üòì Super confusing]
```

**Your Decision**: How much detail for drilling-only sessions?

---

### Scenario: User Competed

If they selected "Competition" as session type:
```
Musashi: "How did it go?"
[Won üèÜ] [Lost] [Mixed results]

Musashi: "Want to break down a specific match?"
[Yes, let's analyze] [No, just log the result]
```

**Your Decision**: Include competition flow in MVP, or defer to Phase 2?

---

## Timing & Friction Analysis

Estimate how long each step takes:

| Step | Est. Time | Interaction Type |
|------|-----------|------------------|
| Did you train? | 2 sec | 1 tap |
| Duration | 3 sec | 1 tap |
| Energy | 2 sec | 1 tap |
| Submissions (1 technique) | 8 sec | 2 taps (technique + position) |
| Add another submission | 8 sec | 2 taps |
| Position struggles | 5 sec | 1-3 taps |
| Mood | 2 sec | 1 tap |
| Optional notes | 0-20 sec | Skippable |
| **TOTAL** | **30-50 sec** | ‚úÖ Under 60 sec goal |

**Your Task**: Validate this timing feels right for YOUR use case

---

## Edge Cases to Handle

1. **User logs multiple sessions in one day** (e.g., morning drilling + evening rolling)
   - How do we handle this? Separate logs or combined?

2. **User forgets to log yesterday's session**
   - Should Musashi prompt: "I noticed you didn't log yesterday. Want to add it now?"

3. **User logs same submission 5 times in one session**
   - UI should make this fast (e.g., "Add another armbar? [Yes]")

4. **User wants to edit a past log**
   - Include "Edit" button on past sessions in chat history?

**Your Decisions on Edge Cases**: [Write here]

---

## ‚úÖ Completion Checklist

- [ ] All Musashi questions filled in with exact wording
- [ ] All button options specified
- [ ] Decided which fields are required vs optional
- [ ] Decided on session type variations (drilling, competition, etc.)
- [ ] Estimated timing validated (<60 sec goal)
- [ ] Edge cases considered

---

**Once complete, move to [03-system-prompt.md](./03-system-prompt.md)**
